{"generatedAt":1690879606451,"generateTime":4100,"contents":[{"_path":"/","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Home","description":"","navigation":false,"layout":"page","main":{"fluid":false},"body":{"type":"root","children":[{"type":"element","tag":"ellipsis","props":{"blur":"150px","right":"0px","width":"75%"},"children":[]},{"type":"element","tag":"block-hero","props":{":cta":"[\"Get started\",\"/get-started\"]",":secondary":"[\"Star on GitHub â†’\",\"https://github.com/nuxt-community/supabase-module\"]"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt "},{"type":"element","tag":"span","props":{"style":"color: var(--color-primary-500)"},"children":[{"type":"text","value":"Supabase"}]}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A supa simple wrapper around "},{"type":"element","tag":"a","props":{"href":"https://github.com/supabase/supabase-js","rel":["nofollow"]},"children":[{"type":"text","value":"supabase-js"}]},{"type":"text","value":" to enable usage and integration within Nuxt."}]}]},{"type":"element","tag":"template","props":{"v-slot:extra":""},"children":[{"type":"element","tag":"list","props":{},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Nuxt 3 ready"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Vue 3 composables"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Supabase-js V2"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Usage in API server routes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Authentication support"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"TypeScript support"}]}]}]}]},{"type":"element","tag":"template","props":{"v-slot:support":""},"children":[{"type":"element","tag":"terminal","props":{":content":"[\"yarn add --dev @nuxtjs/supabase\"]"},"children":[]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:1.index.md","_source":"content","_file":"1.index.md","_extension":"md"},{"_path":"/get-started","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Get Started","description":"@nuxtjs/supabase is a Nuxt module for first class integration with Supabase.","icon":"heroicons:rocket-launch","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"getting-started"},"children":[{"type":"text","value":"Getting started"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"@nuxtjs/supabase"}]},{"type":"text","value":" is a Nuxt module for first class integration with Supabase."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Checkout the "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt 3"}]},{"type":"text","value":" documentation and "},{"type":"element","tag":"a","props":{"href":"https://supabase.com","rel":["nofollow"]},"children":[{"type":"text","value":"Supabase"}]},{"type":"text","value":" to learn more."}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For integrating Supabase with Nuxt 2, checkout "},{"type":"element","tag":"a","props":{"href":"https://github.com/supabase-community/nuxt-supabase","rel":["nofollow"]},"children":[{"type":"text","value":"supabase-community/nuxt-supabase"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"installation"},"children":[{"type":"text","value":"Installation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@nuxtjs/supabase"}]},{"type":"text","value":" dev dependency to your project:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"className":["language-bash"],"code":"yarn add --dev @nuxtjs/supabase\n","filename":"yarn","language":"bash","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"add"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"--dev"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"@nuxtjs/supabase"}]}]}]}]}]},{"type":"element","tag":"code","props":{"className":["language-bash"],"code":"npm install @nuxtjs/supabase --save-dev\n","filename":"NPM","language":"bash","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"install"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"@nuxtjs/supabase"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"--save-dev"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then, add "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@nuxtjs/supabase"}]},{"type":"text","value":" to the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"modules"}]},{"type":"text","value":" section of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config.js"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"export default defineNuxtConfig({\n  modules: ['@nuxtjs/supabase'],\n})\n","filename":"nuxt.config.ts","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  modules: ["}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'@nuxtjs/supabase'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Lastly, add "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SUPABASE_URL"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SUPABASE_KEY"}]},{"type":"text","value":" to the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".env"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"className":["language-zsh"],"code":"SUPABASE_URL=\"https://example.supabase.co\"\nSUPABASE_KEY=\"<your_key>\"\n","filename":".env","language":"zsh","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"SUPABASE_URL"}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"\"https://example.supabase.co\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"SUPABASE_KEY"}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"\"<your_key>\""}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"options"},"children":[{"type":"text","value":"Options"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can configure the supabase module by using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"supabase"}]},{"type":"text","value":" key in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"export default defineNuxtConfig({\n  // ...\n  supabase: {\n    // Options\n  }\n}\n","filename":"nuxt.config.ts","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  supabase: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Options\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"url"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"process.env.SUPABASE_URL"}]},{"type":"text","value":" (ex: "},{"type":"element","tag":"a","props":{"href":"https://example.supabase.co","rel":["nofollow"]},"children":[{"type":"text","value":"https://example.supabase.co"}]},{"type":"text","value":")"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The unique Supabase URL which is supplied when you create a new project in your project dashboard."}]},{"type":"element","tag":"h3","props":{"id":"key"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"key"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"process.env.SUPABASE_KEY"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Supabase 'anon key', used to bypass the Supabase API gateway and interact with your Supabase database making use of user JWT to apply RLS Policies."}]},{"type":"element","tag":"h3","props":{"id":"servicekey"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"serviceKey"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"process.env.SUPABASE_SERVICE_KEY"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Supabase 'service role key', has super admin rights and can bypass your Row Level Security."}]},{"type":"element","tag":"h3","props":{"id":"redirect"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"redirect"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Supabase redirect options."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"login"}]},{"type":"text","value":": User will be redirected to this path if not authenticated or after logout."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"callback"}]},{"type":"text","value":": This is the path the user will be redirect to after supabase login redirection. Should match configured "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"redirectTo"}]},{"type":"text","value":" option of your "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/reference/javascript/auth-signinwithoauth","rel":["nofollow"]},"children":[{"type":"text","value":"signIn method"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can disable all redirects by setting this option to false."}]},{"type":"element","tag":"h3","props":{"id":"client"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"client"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{}"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Supabase client options "},{"type":"element","tag":"a","props":{"href":"https://github.com/supabase/supabase-js/blob/master/src/lib/types.ts#L10","rel":["nofollow"]},"children":[{"type":"text","value":"available here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"versions"},"children":[{"type":"text","value":"Versions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0.1.x"}]},{"type":"text","value":" versions are wrapped around "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"supabase-js v1"}]},{"type":"text","value":".\n"},{"type":"element","tag":"br","props":{},"children":[]},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"0.2.x"}]},{"type":"text","value":" versions are wrapped around "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"supabase-js v2"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"demo"},"children":[{"type":"text","value":"Demo"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A live demo is made for see this module in action on "},{"type":"element","tag":"a","props":{"href":"https://n3-supabase.netlify.app","rel":["nofollow"]},"children":[{"type":"text","value":"n3-supabase.netlify.app"}]},{"type":"text","value":", read more in the "},{"type":"element","tag":"a","props":{"href":"/demo"},"children":[{"type":"text","value":"demo section"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://n3-supabase.netlify.app","rel":["nofollow"]},"children":[{"type":"element","tag":"img","props":{"alt":"Supabase demo with Nuxt 3","src":"https://user-images.githubusercontent.com/904724/160422461-8f87500a-8dec-4413-86b2-ba04e1b2d17b.png"},"children":[]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Also checkout the "},{"type":"element","tag":"a","props":{"href":"https://www.youtube.com/watch?v=jIyiRT6zT8Q","rel":["nofollow"]},"children":[{"type":"text","value":"YouTube video"}]},{"type":"text","value":" about its usage in a live demo."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-970614{color:#B392F0;}\n.ct-970614{color:#6F42C1;}\n.dark .ct-948368{color:#E1E4E8;}\n.ct-948368{color:#24292E;}\n.dark .ct-497092{color:#9ECBFF;}\n.ct-497092{color:#032F62;}\n.dark .ct-484930{color:#79B8FF;}\n.ct-484930{color:#005CC5;}\n.dark .ct-135336{color:#F97583;}\n.ct-135336{color:#D73A49;}\n.ct-086898{color:#6A737D;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"installation","depth":2,"text":"Installation"},{"id":"options","depth":2,"text":"Options","children":[{"id":"url","depth":3,"text":"url"},{"id":"key","depth":3,"text":"key"},{"id":"servicekey","depth":3,"text":"serviceKey"},{"id":"redirect","depth":3,"text":"redirect"},{"id":"client","depth":3,"text":"client"}]},{"id":"versions","depth":2,"text":"Versions"},{"id":"demo","depth":2,"text":"Demo"}]}},"_type":"markdown","_id":"content:2.get-started.md","_source":"content","_file":"2.get-started.md","_extension":"md"},{"_path":"/usage/_dir","_dir":"usage","_draft":false,"_partial":true,"_locale":"","title":"Usage","icon":"heroicons:book-open","_id":"content:3.usage:_dir.yml","_type":"yaml","_source":"content","_file":"3.usage/_dir.yml","_extension":"yml"},{"_path":"/usage/composables/_dir","_dir":"composables","_draft":false,"_partial":true,"_locale":"","title":"Vue composables","_id":"content:3.usage:composables:_dir.yml","_type":"yaml","_source":"content","_file":"3.usage/composables/_dir.yml","_extension":"yml"},{"_path":"/usage/composables/usesupabaseauthclient","_dir":"composables","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"useSupabaseAuthClient","description":"Handle Supabase authentification actions with useSupabaseAuthClient composable","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"usesupabaseauthclient"},"children":[{"type":"text","value":"useSupabaseAuthClient"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/guide/directory-structure/composables","rel":["nofollow"]},"children":[{"type":"text","value":"Auto-import"}]},{"type":"text","value":" your client inside your vue files."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This composable is using "},{"type":"element","tag":"a","props":{"href":"https://github.com/supabase/supabase-js/","rel":["nofollow"]},"children":[{"type":"text","value":"supabase-js"}]},{"type":"text","value":" under the hood, it gives access to the "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/reference/javascript/initializing","rel":["nofollow"]},"children":[{"type":"text","value":"Supabase client"}]},{"type":"text","value":" in order to handle authentification actions, all methods are available on "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/reference/javascript/auth-signup","rel":["nofollow"]},"children":[{"type":"text","value":"Supabase Auth"}]},{"type":"text","value":" Documentation."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The client is initialized with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SUPABASE_KEY"}]},{"type":"text","value":" you must have in your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" file."}]}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This client is dedicated to authentification purpose only. It won't be recreated if your token expires, it is used in the client plugin to listen to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"onAuthStateChange"}]},{"type":"text","value":" events. If you want to fetch data from the db, please use the "},{"type":"element","tag":"a","props":{"href":"/usage/composables/usesupabaseclient"},"children":[{"type":"text","value":"useSupabaseClient"}]},{"type":"text","value":" instead."}]}]},{"type":"element","tag":"h2","props":{"id":"signin"},"children":[{"type":"text","value":"SignIn"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is an example of the login using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"signInWithOAuth"}]},{"type":"text","value":" method with "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/reference/javascript/auth-signinwithoauth","rel":["nofollow"]},"children":[{"type":"text","value":"third-party providers"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"className":["language-vue"],"code":"<script setup lang=\"ts\">\nconst user = useSupabaseUser()\nconst client = useSupabaseAuthClient()\nconst router = useRouter()\n\n// Login method using providers\nconst login = async (provider: 'github' | 'google' | 'gitlab' | 'bitbucket') => {\n  const { error } = await client.auth.signInWithOAuth({ provider })\n\n  if (error) {\n    return alert('Something went wrong !')\n  }\n\n  router.push('/dashboard')\n}\n</script>\n\n<template>\n  <button @click=\"login('github')\">Login with GitHub</button>\n</template>\n","filename":"pages/login.vue","language":"vue","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"lang"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"\"ts\""}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useSupabaseUser"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"client"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useSupabaseAuthClient"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"router"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useRouter"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Login method using providers\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"login"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-684589"},"children":[{"type":"text","value":"provider"}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'github'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'google'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'gitlab'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'bitbucket'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"error"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" client.auth."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"signInWithOAuth"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"({ provider })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" (error) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"alert"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'Something went wrong !'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  router."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'/dashboard'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"@click"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"\"login('github')\""}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">Login with GitHub</"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Thanks to the "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/guide/directory-structure/plugins","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt plugin"}]},{"type":"text","value":", we are listening to the "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/reference/javascript/auth-onauthstatechange","rel":["nofollow"]},"children":[{"type":"text","value":"onAuthStateChange"}]},{"type":"text","value":" listener in order to update the user value according to the received event. We also keep the session consistency between client and server side."}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Take a look at the "},{"type":"element","tag":"a","props":{"href":"/usage/composables/usesupabaseuser#auth-middleware"},"children":[{"type":"text","value":"auth middleware"}]},{"type":"text","value":" section to learn how to leverage Nuxt middleware to protect your routes for unauthenticated users."}]}]},{"type":"element","tag":"h2","props":{"id":"signout"},"children":[{"type":"text","value":"SignOut"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/reference/javascript/auth-signout","rel":["nofollow"]},"children":[{"type":"text","value":"Supabase Documentation"}]},{"type":"text","value":" for further details."}]},{"type":"element","tag":"code","props":{"className":["language-vue"],"code":"<script setup>\nconst client = useSupabaseAuthClient()\n</script>\n\n<template>\n  <button @click=\"client.auth.signOut()\">Logout</button>\n</template>\n","language":"vue","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"client"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useSupabaseAuthClient"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"@click"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"\"client.auth.signOut()\""}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">Logout</"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-948368{color:#E1E4E8;}\n.ct-948368{color:#24292E;}\n.dark .ct-680237{color:#85E89D;}\n.ct-680237{color:#22863A;}\n.dark .ct-970614{color:#B392F0;}\n.ct-970614{color:#6F42C1;}\n.dark .ct-497092{color:#9ECBFF;}\n.ct-497092{color:#032F62;}\n.dark .ct-135336{color:#F97583;}\n.ct-135336{color:#D73A49;}\n.dark .ct-484930{color:#79B8FF;}\n.ct-484930{color:#005CC5;}\n.ct-086898{color:#6A737D;}\n.dark .ct-684589{color:#FFAB70;}\n.ct-684589{color:#E36209;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"signin","depth":2,"text":"SignIn"},{"id":"signout","depth":2,"text":"SignOut"}]}},"_type":"markdown","_id":"content:3.usage:composables:useSupabaseAuthClient.md","_source":"content","_file":"3.usage/composables/useSupabaseAuthClient.md","_extension":"md"},{"_path":"/usage/composables/usesupabaseclient","_dir":"composables","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"useSupabaseClient","description":"Make requests to the Supabase API with the useSupabaseClient composable","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"usesupabaseclient"},"children":[{"type":"text","value":"useSupabaseClient"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/guide/directory-structure/composables","rel":["nofollow"]},"children":[{"type":"text","value":"Auto-import"}]},{"type":"text","value":" your client inside your vue files."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This composable is using "},{"type":"element","tag":"a","props":{"href":"https://github.com/supabase/supabase-js/","rel":["nofollow"]},"children":[{"type":"text","value":"supabase-js"}]},{"type":"text","value":" under the hood, it gives access to the "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/reference/javascript/initializing","rel":["nofollow"]},"children":[{"type":"text","value":"Supabase client"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The client is initialized with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SUPABASE_KEY"}]},{"type":"text","value":" you must have in your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" file. It establishes the connection with the database and make use of user JWT to apply "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/learn/auth-deep-dive/auth-row-level-security","rel":["nofollow"]},"children":[{"type":"text","value":"RLS Policies"}]},{"type":"text","value":" implemented in Supabase. If you want to bypass policies, you can use the "},{"type":"element","tag":"a","props":{"href":"/usage/services/serversupabaseservicerole"},"children":[{"type":"text","value":"serverSupabaseServiceRole"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"database-request"},"children":[{"type":"text","value":"Database Request"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Please check "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/reference/javascript/select","rel":["nofollow"]},"children":[{"type":"text","value":"Supabase"}]},{"type":"text","value":" documentation to fully use the power of Supabase client."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here is an example of a fetch using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"select"}]},{"type":"text","value":" method with Nuxt 3 "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/getting-started/data-fetching#useasyncdata","rel":["nofollow"]},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":" composable."}]},{"type":"element","tag":"code","props":{"className":["language-vue"],"code":"<script setup lang=\"ts\">\nconst client = useSupabaseClient()\n\nconst { data: restaurant } = await useAsyncData('restaurant', async () => {\n  const { data } = await client.from('restaurants').select('name, location').eq('name', 'My Restaurant Name').single()\n\n  return data\n})\n</script>\n","language":"vue","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"lang"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"\"ts\""}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"client"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useSupabaseClient"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-684589"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"restaurant"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'restaurant'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" client."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'restaurants'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"select"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'name, location'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"eq"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'name'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'My Restaurant Name'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"single"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"realtime"},"children":[{"type":"text","value":"Realtime"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Based on "},{"type":"element","tag":"a","props":{"href":"https://github.com/supabase/realtime","rel":["nofollow"]},"children":[{"type":"text","value":"Supabase Realtime"}]},{"type":"text","value":", listen to changes in your PostgreSQL Database and broadcasts them over WebSockets."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To enable it, make sure you have turned on the "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/guides/api#realtime-api","rel":["nofollow"]},"children":[{"type":"text","value":"Realtime API"}]},{"type":"text","value":" for your table."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then, listen to changes directly in your vue page / component:"}]},{"type":"element","tag":"code","props":{"className":["language-vue"],"code":"<script setup lang=\"ts\">\nimport type { RealtimeChannel } from '@supabase/supabase-js'\n\nconst client = useSupabaseClient()\n\nlet realtimeChannel: RealtimeChannel\n\n// Fetch collaborators and get the refresh method provided by useAsyncData\nconst { data: collaborators, refresh: refreshCollaborators } = await useAsyncData('collaborators', async () => {\n  const { data } = await client.from('collaborators').select('name')\n  return data\n})\n\n// Once page is mounted, listen to changes on the `collaborators` table and refresh collaborators when receiving event\nonMounted(() => {\n  // Real time listener for new workouts\n  realtimeChannel = client.channel('public:collaborators').on(\n    'postgres_changes',\n    { event: '*', schema: 'public', table: 'collaborators' },\n    () => refreshCollaborators()\n  )\n\n  realtimeChannel.subscribe()\n})\n\n  // Don't forget to unsubscribe when user left the page\nonUnmounted(() => {\n  client.removeChannel(realtimeChannel)\n})\n</script>\n","language":"vue","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"lang"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"\"ts\""}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"type"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { RealtimeChannel } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'@supabase/supabase-js'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"client"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useSupabaseClient"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" realtimeChannel"}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"RealtimeChannel\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Fetch collaborators and get the refresh method provided by useAsyncData\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-684589"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"collaborators"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-684589"},"children":[{"type":"text","value":"refresh"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"refreshCollaborators"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'collaborators'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" client."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'collaborators'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"select"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'name'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Once page is mounted, listen to changes on the `collaborators` table and refresh collaborators when receiving event\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"onMounted"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"(() "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Real time listener for new workouts\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  realtimeChannel "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" client."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"channel"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'public:collaborators'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"on"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'postgres_changes'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    { event: "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'*'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":", schema: "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'public'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":", table: "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'collaborators'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    () "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"refreshCollaborators"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  )\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  realtimeChannel."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"subscribe"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-086898"},"children":[{"type":"text","value":"// Don't forget to unsubscribe when user left the page\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"onUnmounted"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"(() "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  client."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"removeChannel"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"(realtimeChannel)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"typescript"},"children":[{"type":"text","value":"Typescript"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can pass Database typings to the client. Check Supabase "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/reference/javascript/release-notes#typescript-support","rel":["nofollow"]},"children":[{"type":"text","value":"documentation"}]},{"type":"text","value":" for further information."}]},{"type":"element","tag":"code","props":{"className":["language-vue"],"code":"<script setup lang=\"ts\">\nimport type { Database } from '~/types'\nconst client = useSupabaseClient<Database>()\n</script>\n","language":"vue","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"lang"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"\"ts\""}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"type"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { Database } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'~/types'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"client"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useSupabaseClient"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"Database"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-948368{color:#E1E4E8;}\n.ct-948368{color:#24292E;}\n.dark .ct-680237{color:#85E89D;}\n.ct-680237{color:#22863A;}\n.dark .ct-970614{color:#B392F0;}\n.ct-970614{color:#6F42C1;}\n.dark .ct-497092{color:#9ECBFF;}\n.ct-497092{color:#032F62;}\n.dark .ct-135336{color:#F97583;}\n.ct-135336{color:#D73A49;}\n.dark .ct-484930{color:#79B8FF;}\n.ct-484930{color:#005CC5;}\n.dark .ct-684589{color:#FFAB70;}\n.ct-684589{color:#E36209;}\n.ct-086898{color:#6A737D;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"database-request","depth":2,"text":"Database Request"},{"id":"realtime","depth":2,"text":"Realtime"},{"id":"typescript","depth":2,"text":"Typescript"}]}},"_type":"markdown","_id":"content:3.usage:composables:useSupabaseClient.md","_source":"content","_file":"3.usage/composables/useSupabaseClient.md","_extension":"md"},{"_path":"/usage/composables/usesupabaseuser","_dir":"composables","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"useSupabaseUser","description":"Auto import and use your Supabase user with the useSupabaseUser composable","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"usesupabaseuser"},"children":[{"type":"text","value":"useSupabaseUser"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once logged in, you can "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/guide/directory-structure/composables","rel":["nofollow"]},"children":[{"type":"text","value":"auto-import"}]},{"type":"text","value":" your user everywhere inside your vue files."}]},{"type":"element","tag":"code","props":{"className":["language-vue"],"code":"<script setup>\nconst user = useSupabaseUser()\n</script>\n","language":"vue","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useSupabaseUser"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-680237"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"auth-middleware"},"children":[{"type":"text","value":"Auth middleware"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can protect your authenticated routes by creating a custom middleware in your project, here is an example:"}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"export default defineNuxtRouteMiddleware((to, _from) => {\n  const user = useSupabaseUser()\n\n  if (!user.value) {\n    return navigateTo('/login')\n  }\n})\n","filename":"middleware/auth.ts","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"defineNuxtRouteMiddleware"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"class":"ct-684589"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-684589"},"children":[{"type":"text","value":"_from"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useSupabaseUser"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"user.value) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"navigateTo"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'/login'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then you can reference your middleware in your page with:"}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"definePageMeta({\n  middleware: 'auth'\n})\n","filename":"pages/dashboard.vue","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  middleware: "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'auth'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Learn more about "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/guide/directory-structure/middleware","rel":["nofollow"]},"children":[{"type":"text","value":"Nuxt middleware"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/guide/directory-structure/pages#page-metadata","rel":["nofollow"]},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"text","value":"."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-948368{color:#E1E4E8;}\n.ct-948368{color:#24292E;}\n.dark .ct-680237{color:#85E89D;}\n.ct-680237{color:#22863A;}\n.dark .ct-970614{color:#B392F0;}\n.ct-970614{color:#6F42C1;}\n.dark .ct-135336{color:#F97583;}\n.ct-135336{color:#D73A49;}\n.dark .ct-484930{color:#79B8FF;}\n.ct-484930{color:#005CC5;}\n.dark .ct-684589{color:#FFAB70;}\n.ct-684589{color:#E36209;}\n.dark .ct-497092{color:#9ECBFF;}\n.ct-497092{color:#032F62;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"auth-middleware","depth":2,"text":"Auth middleware"}]}},"_type":"markdown","_id":"content:3.usage:composables:useSupabaseUser.md","_source":"content","_file":"3.usage/composables/useSupabaseUser.md","_extension":"md"},{"_path":"/usage/services/_dir","_dir":"services","_draft":false,"_partial":true,"_locale":"","title":"Server services","_id":"content:3.usage:services:_dir.yml","_type":"yaml","_source":"content","_file":"3.usage/services/_dir.yml","_extension":"yml"},{"_path":"/usage/services/serversupabaseclient","_dir":"services","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"serverSupabaseClient","description":"Make requests to the Supabase API on server side with the serverSupabaseClient service","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"serversupabaseclient"},"children":[{"type":"text","value":"serverSupabaseClient"}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This section assumes you're familiar with "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/concepts/server-engine","rel":["nofollow"]},"children":[{"type":"text","value":"Nitro"}]},{"type":"text","value":", the server engine powered by Nuxt."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This function is working similary as the "},{"type":"element","tag":"a","props":{"href":"/usage/composables/usesupabaseclient"},"children":[{"type":"text","value":"useSupabaseClient"}]},{"type":"text","value":" composable but is designed to be used in "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/guide/directory-structure/server#server-routes","rel":["nofollow"]},"children":[{"type":"text","value":"server routes"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Define your server route and just import the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"serverSupabaseClient"}]},{"type":"text","value":" from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"#supabase/server"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"import { serverSupabaseClient } from '#supabase/server'\n\nexport default eventHandler(async (event) => {\n  const client = serverSupabaseClient(event)\n\n  const { data } = await client.from('libraries').select()\n\n  return { libraries: data }\n})\n","filename":"server/api/libraries.ts","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { serverSupabaseClient } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'#supabase/server'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"eventHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-684589"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"client"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"serverSupabaseClient"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"(event)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" client."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'libraries'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"select"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { libraries: data }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then call your API route from any vue file:"}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"const fetchLibrary = async () => {\n  const { libraries } = await $fetch('/api/libraries')\n}\n","filename":"pages/index.vue","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"fetchLibrary"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"libraries"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"$fetch"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'/api/libraries'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Be careful, if you want to call this route on SSR, please read this "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/getting-started/data-fetching#isomorphic-fetch-and-fetch","rel":["nofollow"]},"children":[{"type":"text","value":"section"}]},{"type":"text","value":", you must send your browser cookies including your supabase token."}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"const { data: { libraries }} = await useFetch('/api/libraries', {\n  headers: useRequestHeaders(['cookie'])\n})\n","filename":"pages/index.vue","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-684589"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":": { "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"libraries"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" }} "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useFetch"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'/api/libraries'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":", {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  headers: "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useRequestHeaders"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"(["}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'cookie'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-135336{color:#F97583;}\n.ct-135336{color:#D73A49;}\n.dark .ct-948368{color:#E1E4E8;}\n.ct-948368{color:#24292E;}\n.dark .ct-497092{color:#9ECBFF;}\n.ct-497092{color:#032F62;}\n.dark .ct-970614{color:#B392F0;}\n.ct-970614{color:#6F42C1;}\n.dark .ct-684589{color:#FFAB70;}\n.ct-684589{color:#E36209;}\n.dark .ct-484930{color:#79B8FF;}\n.ct-484930{color:#005CC5;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.usage:services:1.serverSupabaseClient.md","_source":"content","_file":"3.usage/services/1.serverSupabaseClient.md","_extension":"md"},{"_path":"/usage/services/serversupabaseservicerole","_dir":"services","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"serverSupabaseServiceRole","description":"Make requests with super admin rights to the Supabase API with the serverSupabaseServiceRole service","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"serversupabaseservicerole"},"children":[{"type":"text","value":"serverSupabaseServiceRole"}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This section assumes you're familiar with "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/concepts/server-engine","rel":["nofollow"]},"children":[{"type":"text","value":"Nitro"}]},{"type":"text","value":", the server engine powered by Nuxt."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This function is designed to work only in "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/guide/directory-structure/server#server-routes","rel":["nofollow"]},"children":[{"type":"text","value":"server routes"}]},{"type":"text","value":", there is no vue composable equivalent."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It works similary as the "},{"type":"element","tag":"a","props":{"href":"/usage/services/serversupabaseclient"},"children":[{"type":"text","value":"serverSupabaseClient"}]},{"type":"text","value":" but it provides a client with super admin rights that can bypass your "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/guides/auth/row-level-security","rel":["nofollow"]},"children":[{"type":"text","value":"Row Level Security"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The client is initialized with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SUPABASE_SERVICE_KEY"}]},{"type":"text","value":" you must have in your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" file. Checkout the doc if you want to know more about "},{"type":"element","tag":"a","props":{"href":"https://supabase.com/docs/learn/auth-deep-dive/auth-deep-dive-jwts#jwts-in-supabase","rel":["nofollow"]},"children":[{"type":"text","value":"Supabase keys"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Define your server route and just import the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"serverSupabaseServiceRole"}]},{"type":"text","value":" from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"#supabase/server"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"import { serverSupabaseServiceRole } from '#supabase/server'\n\nexport default eventHandler(async (event) => {\n  const client = serverSupabaseServiceRole(event)\n\n  const { data } = await client.from('rls-protected-table').select()\n\n  return { sensitiveData: data }\n})\n","filename":"server/api/bypass-rls.ts","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { serverSupabaseServiceRole } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'#supabase/server'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"eventHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-684589"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"client"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"serverSupabaseServiceRole"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"(event)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" client."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'rls-protected-table'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")."}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"select"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { sensitiveData: data }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then call your API route from any vue file:"}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"const fetchSensitiveData = async () => {\n  const { sensitiveData } = await useFetch('/api/bypass-rls')\n}\n","filename":"pages/index.vue","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"fetchSensitiveData"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"sensitiveData"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useFetch"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'/api/bypass-rls'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-135336{color:#F97583;}\n.ct-135336{color:#D73A49;}\n.dark .ct-948368{color:#E1E4E8;}\n.ct-948368{color:#24292E;}\n.dark .ct-497092{color:#9ECBFF;}\n.ct-497092{color:#032F62;}\n.dark .ct-970614{color:#B392F0;}\n.ct-970614{color:#6F42C1;}\n.dark .ct-684589{color:#FFAB70;}\n.ct-684589{color:#E36209;}\n.dark .ct-484930{color:#79B8FF;}\n.ct-484930{color:#005CC5;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.usage:services:2.serverSupabaseServiceRole.md","_source":"content","_file":"3.usage/services/2.serverSupabaseServiceRole.md","_extension":"md"},{"_path":"/usage/services/serversupabaseuser","_dir":"services","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"serverSupabaseUser","description":"Get your Supabase user from serverside with the serverSupabaseUser service","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"serversupabaseuser"},"children":[{"type":"text","value":"serverSupabaseUser"}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This section assumes you're familiar with "},{"type":"element","tag":"a","props":{"href":"https://v3.nuxtjs.org/guide/concepts/server-engine","rel":["nofollow"]},"children":[{"type":"text","value":"Nitro"}]},{"type":"text","value":", the server engine powered by Nuxt."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This function is similar to the "},{"type":"element","tag":"a","props":{"href":"/usage/composables/usesupabaseuser"},"children":[{"type":"text","value":"useSupabaseUser"}]},{"type":"text","value":" composable but is used in "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/guide/directory-structure/server#server-routes","rel":["nofollow"]},"children":[{"type":"text","value":"server routes"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Define your server route and import the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"serverSupabaseUser"}]},{"type":"text","value":" from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"#supabase/server"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"import { serverSupabaseUser } from '#supabase/server'\n\nexport default defineEventHandler(async (event) => {\n  return await serverSupabaseUser(event)\n})\n","filename":"server/api/me.ts","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { serverSupabaseUser } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'#supabase/server'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"defineEventHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-684589"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"serverSupabaseUser"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"(event)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then call your api route from any vue file:"}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"const user = ref(null)\n\nconst fetchMe = async () => {\n   user.value = await $fetch('/api/me')\n}\n","filename":"pages/index.vue","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"ref"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"fetchMe"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"   user.value "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"$fetch"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'/api/me'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Be careful, if you want to call this route on SSR, please read this "},{"type":"element","tag":"a","props":{"href":"https://nuxt.com/docs/getting-started/data-fetching#isomorphic-fetch-and-fetch","rel":["nofollow"]},"children":[{"type":"text","value":"section"}]},{"type":"text","value":", you must send your browser cookies including your supabase token."}]},{"type":"element","tag":"code","props":{"className":["language-ts"],"code":"const user = ref(null)\n\nconst { data } = await useFetch('/api/me', {\n  headers: useRequestHeaders(['cookie'])\n})\n\nuser.value = data\n","filename":"pages/index.vue","language":"ts","meta":""},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"ref"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-484930"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useFetch"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'/api/me'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":", {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"  headers: "}]},{"type":"element","tag":"span","props":{"class":"ct-970614"},"children":[{"type":"text","value":"useRequestHeaders"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"(["}]},{"type":"element","tag":"span","props":{"class":"ct-497092"},"children":[{"type":"text","value":"'cookie'"}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"])\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":"user.value "}]},{"type":"element","tag":"span","props":{"class":"ct-135336"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-948368"},"children":[{"type":"text","value":" data"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".dark .ct-135336{color:#F97583;}\n.ct-135336{color:#D73A49;}\n.dark .ct-948368{color:#E1E4E8;}\n.ct-948368{color:#24292E;}\n.dark .ct-497092{color:#9ECBFF;}\n.ct-497092{color:#032F62;}\n.dark .ct-970614{color:#B392F0;}\n.ct-970614{color:#6F42C1;}\n.dark .ct-684589{color:#FFAB70;}\n.ct-684589{color:#E36209;}\n.dark .ct-484930{color:#79B8FF;}\n.ct-484930{color:#005CC5;}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.usage:services:3.serverSupabaseUser.md","_source":"content","_file":"3.usage/services/3.serverSupabaseUser.md","_extension":"md"},{"_path":"/demo","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Demo","description":"Demonstration of using Supabase with Nuxt.","icon":"heroicons:computer-desktop-20-solid","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"demo"},"children":[{"type":"text","value":"Demo"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Demonstration of using Supabase with Nuxt."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://n3-supabase.netlify.app","rel":["nofollow"]},"children":[{"type":"element","tag":"img","props":{"alt":"Supabase demo with Nuxt 3","src":"https://user-images.githubusercontent.com/904724/160422461-8f87500a-8dec-4413-86b2-ba04e1b2d17b.png"},"children":[]}]}]},{"type":"element","tag":"h2","props":{"id":"live-demo"},"children":[{"type":"text","value":"Live demo"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can play with the demo on "},{"type":"element","tag":"a","props":{"href":"https://n3-supabase.netlify.app","rel":["nofollow"]},"children":[{"type":"text","value":"n3-supabase.netlify.app"}]}]},{"type":"element","tag":"h2","props":{"id":"running-locally"},"children":[{"type":"text","value":"Running locally"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Follow the instruction in the "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt-community/supabase-module/tree/main/demo","rel":["nofollow"]},"children":[{"type":"text","value":"demo Readme"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"source-code"},"children":[{"type":"text","value":"Source code"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The source code is available on Github in the "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt-community/supabase-module/tree/main/demo","rel":["nofollow"]},"children":[{"type":"text","value":"demo/ directory"}]},{"type":"text","value":"."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"live-demo","depth":2,"text":"Live demo"},{"id":"running-locally","depth":2,"text":"Running locally"},{"id":"source-code","depth":2,"text":"Source code"}]}},"_type":"markdown","_id":"content:4.demo.md","_source":"content","_file":"4.demo.md","_extension":"md"},{"_path":"/changelog","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Changelog","description":"Discover the latest updates of the Supabase Module","icon":"heroicons:bookmark","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TODO"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:5.changelog.md","_source":"content","_file":"5.changelog.md","_extension":"md"},{"_path":"/roadmap","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Roadmap","description":"Discover our kaban board for the next release of the Supabase module.","icon":"heroicons:map","body":{"type":"root","children":[{"type":"element","tag":"volta-board","props":{"token":"toeyJzdGF0dXNlcyI6WyJ0cmlhZ2UiLCJiYWNrbG9nIiwidG9kbyIsImluX3Byb2dyZXNzIiwiaW5fcmV2aWV3IiwiZG9uZSIsInJlbGVhc2VkIiwiY2FuY2VsbGVkIl0sImZpbHRlcnMiOnt9LCJvd25lciI6Im51eHQtbW9kdWxlcyIsIm5hbWUiOiJzdXBhYmFzZSJ9ken"},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:6.roadmap.md","_source":"content","_file":"6.roadmap.md","_extension":"md"}],"navigation":[{"title":"Get Started","_path":"/get-started","icon":"heroicons:rocket-launch"},{"title":"Usage","_path":"/usage","children":[{"title":"Vue composables","_path":"/usage/composables","children":[{"title":"useSupabaseAuthClient","_path":"/usage/composables/usesupabaseauthclient"},{"title":"useSupabaseClient","_path":"/usage/composables/usesupabaseclient"},{"title":"useSupabaseUser","_path":"/usage/composables/usesupabaseuser"}]},{"title":"Server services","_path":"/usage/services","children":[{"title":"serverSupabaseClient","_path":"/usage/services/serversupabaseclient"},{"title":"serverSupabaseServiceRole","_path":"/usage/services/serversupabaseservicerole"},{"title":"serverSupabaseUser","_path":"/usage/services/serversupabaseuser"}]}],"icon":"heroicons:book-open"},{"title":"Demo","_path":"/demo","icon":"heroicons:computer-desktop-20-solid"},{"title":"Changelog","_path":"/changelog","icon":"heroicons:bookmark"},{"title":"Roadmap","_path":"/roadmap","icon":"heroicons:map"}]}